import { useState } from "react";
import { motion } from "framer-motion";

import styles from "../../styles/components/home/Loader.module.scss";

import {
  lockupAnimation,
  titleAnimtion,
  svgAnimation,
  circleAnimation,
  backgroundAnimation,
} from "../../animations/loader";

const Loader = ({ setLoading }) => {
  const [startExit, setStartExit] = useState(false);

  return (
    <section className={styles.loader}>
      <motion.div
        variants={backgroundAnimation}
        initial="hidden"
        animate={startExit ? "exit" : "visible"}
        onAnimationComplete={() => (startExit ? setLoading(false) : null)}
        className={styles.background}
      ></motion.div>
      <div className={styles.container}>
        <motion.div
          variants={lockupAnimation}
          initial="hidden"
          animate={startExit ? "exit" : "visible"}
          onAnimationComplete={() => (startExit ? null : setStartExit(true))}
          className={styles.lockup}
        >
          <motion.h2
            variants={titleAnimtion}
            key="dylan"
            className={styles.titleFirst}
          >
            Dylan
          </motion.h2>
          <motion.h2
            variants={titleAnimtion}
            key="navajas"
            className={styles.titleSecond}
          >
            Navajas
          </motion.h2>
          <motion.h2
            variants={titleAnimtion}
            key="gluck"
            className={styles.titleThird}
          >
            Gluck
          </motion.h2>
          <motion.svg
            variants={svgAnimation}
            key="progress"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 200 200"
            className={styles.progress}
          >
            <g>
              <motion.path
                variants={circleAnimation}
                fill="none"
                d="M100,12.63c48.18,0,87.37,39.2,87.37,87.37s-39.2,87.37-87.37,87.37S12.63,148.18,12.63,100
		S51.82,12.63,100,12.63"
              />
            </g>
            <g>
              <path
                fill="#AAAAAA"
                d="M41.69,108.9c-1.12,0-1.96-0.29-2.51-0.86c-0.55-0.57-0.83-1.37-0.83-2.39V86.62h3.28v19.6h2.17v2.68H41.69
		z"
              />
              <path
                fill="#AAAAAA"
                d="M53.07,109.26c-1.08,0-2.07-0.19-2.97-0.57s-1.65-0.93-2.27-1.64c-0.62-0.71-1.1-1.58-1.44-2.59
		c-0.34-1.01-0.51-2.14-0.51-3.39c0-1.24,0.17-2.37,0.51-3.39c0.34-1.01,0.82-1.88,1.44-2.59c0.62-0.71,1.38-1.26,2.27-1.64
		c0.89-0.38,1.88-0.57,2.97-0.57c1.08,0,2.07,0.19,2.97,0.57c0.89,0.38,1.65,0.93,2.27,1.64c0.62,0.71,1.1,1.58,1.44,2.59
		c0.34,1.01,0.51,2.14,0.51,3.39c0,1.25-0.17,2.37-0.51,3.39c-0.34,1.01-0.82,1.88-1.44,2.59c-0.62,0.71-1.38,1.26-2.27,1.64
		C55.14,109.07,54.15,109.26,53.07,109.26z M53.07,106.52c1.12,0,2.03-0.34,2.71-1.03c0.68-0.69,1.02-1.72,1.02-3.1v-2.63
		c0-1.38-0.34-2.41-1.02-3.1c-0.68-0.69-1.59-1.03-2.71-1.03c-1.12,0-2.03,0.34-2.71,1.03c-0.68,0.69-1.02,1.72-1.02,3.1v2.63
		c0,1.38,0.34,2.41,1.02,3.1S51.94,106.52,53.07,106.52z"
              />
              <path
                fill="#AAAAAA"
                d="M75.38,108.9c-0.86,0-1.53-0.25-1.99-0.74c-0.46-0.49-0.74-1.12-0.84-1.88H72.4
		c-0.3,0.98-0.85,1.73-1.66,2.23c-0.8,0.5-1.78,0.75-2.92,0.75c-1.63,0-2.88-0.42-3.75-1.26s-1.31-1.98-1.31-3.4
		c0-1.57,0.57-2.74,1.7-3.52c1.13-0.78,2.79-1.17,4.98-1.17h2.83v-1.32c0-0.96-0.26-1.71-0.78-2.23c-0.52-0.52-1.33-0.78-2.44-0.78
		c-0.92,0-1.68,0.2-2.26,0.6c-0.58,0.4-1.07,0.91-1.48,1.54l-1.96-1.78c0.52-0.88,1.25-1.61,2.2-2.18c0.94-0.57,2.18-0.86,3.7-0.86
		c2.03,0,3.58,0.47,4.67,1.41c1.08,0.94,1.63,2.3,1.63,4.06v7.86h1.66v2.68H75.38z M68.75,106.76c1.02,0,1.87-0.23,2.53-0.68
		c0.66-0.45,0.99-1.06,0.99-1.82V102h-2.77c-2.27,0-3.4,0.7-3.4,2.11v0.54c0,0.7,0.24,1.23,0.71,1.58
		C67.28,106.58,67.93,106.76,68.75,106.76z"
              />
              <path
                fill="#AAAAAA"
                d="M90.28,106.31h-0.15c-0.34,0.92-0.9,1.65-1.67,2.17c-0.77,0.52-1.68,0.78-2.72,0.78
		c-1.99,0-3.52-0.72-4.61-2.15c-1.08-1.43-1.63-3.45-1.63-6.04s0.54-4.6,1.63-6.04c1.08-1.43,2.62-2.15,4.61-2.15
		c1.04,0,1.95,0.26,2.72,0.77s1.33,1.24,1.67,2.18h0.15v-9.21h3.28v22.28h-3.28V106.31z M86.72,106.43c1,0,1.85-0.25,2.53-0.74
		c0.68-0.49,1.02-1.14,1.02-1.94v-5.36c0-0.8-0.34-1.45-1.02-1.94c-0.68-0.49-1.53-0.74-2.53-0.74c-1.14,0-2.06,0.37-2.74,1.1
		c-0.68,0.73-1.02,1.7-1.02,2.91v2.71c0,1.2,0.34,2.17,1.02,2.91C84.67,106.06,85.58,106.43,86.72,106.43z"
              />
              <path
                fill="#AAAAAA"
                d="M99.91,90.44c-0.68,0-1.18-0.16-1.49-0.48c-0.31-0.32-0.47-0.73-0.47-1.23v-0.51c0-0.5,0.16-0.91,0.47-1.23
		c0.31-0.32,0.81-0.48,1.49-0.48c0.68,0,1.17,0.16,1.47,0.48c0.3,0.32,0.45,0.73,0.45,1.23v0.51c0,0.5-0.15,0.91-0.45,1.23
		S100.59,90.44,99.91,90.44z M98.25,93.24h3.28v15.65h-3.28V93.24z"
              />
              <path
                fill="#AAAAAA"
                d="M106.23,108.9V93.24h3.28v2.59h0.15c0.34-0.84,0.86-1.55,1.55-2.11c0.69-0.56,1.64-0.84,2.84-0.84
		c1.61,0,2.85,0.53,3.75,1.58c0.89,1.05,1.34,2.55,1.34,4.5v9.93h-3.28v-9.51c0-2.45-0.98-3.67-2.95-3.67
		c-0.42,0-0.84,0.06-1.25,0.17c-0.41,0.11-0.78,0.28-1.1,0.5s-0.58,0.5-0.77,0.84s-0.29,0.74-0.29,1.2v10.48H106.23z"
              />
              <path
                fill="#AAAAAA"
                d="M137.42,110.37c0,1.63-0.62,2.85-1.87,3.67s-3.27,1.23-6.08,1.23c-1.28,0-2.37-0.08-3.27-0.26
		c-0.89-0.17-1.62-0.42-2.2-0.74c-0.57-0.32-0.99-0.71-1.25-1.17c-0.26-0.46-0.39-0.99-0.39-1.6c0-0.86,0.24-1.54,0.71-2.02
		c0.47-0.48,1.13-0.81,1.97-0.99v-0.33c-1.18-0.38-1.78-1.18-1.78-2.41c0-0.8,0.27-1.42,0.81-1.85c0.54-0.43,1.19-0.74,1.96-0.92
		v-0.12c-0.92-0.44-1.63-1.06-2.12-1.85c-0.49-0.79-0.74-1.72-0.74-2.78c0-1.61,0.54-2.9,1.61-3.88c1.07-0.98,2.61-1.48,4.62-1.48
		c1.1,0,2.05,0.16,2.83,0.48v-0.42c0-0.7,0.17-1.25,0.5-1.64c0.33-0.39,0.85-0.59,1.55-0.59h2.41v2.65h-3.19v0.63
		c0.7,0.46,1.24,1.06,1.62,1.79c0.38,0.73,0.57,1.55,0.57,2.45c0,1.59-0.54,2.86-1.62,3.84c-1.08,0.97-2.63,1.46-4.64,1.46
		c-0.76,0-1.44-0.08-2.05-0.24c-0.4,0.14-0.75,0.34-1.05,0.59c-0.3,0.25-0.45,0.58-0.45,0.98c0,0.42,0.19,0.72,0.57,0.9
		c0.38,0.18,0.92,0.27,1.63,0.27h3.85c1.93,0,3.32,0.39,4.18,1.16C136.99,107.97,137.42,109.03,137.42,110.37z M134.35,110.73
		c0-0.54-0.21-0.97-0.62-1.29c-0.41-0.32-1.16-0.48-2.24-0.48h-5.3c-0.72,0.42-1.08,1.02-1.08,1.81c0,0.64,0.26,1.16,0.77,1.55
		s1.38,0.59,2.6,0.59h2.05C133.07,112.9,134.35,112.18,134.35,110.73z M129.44,101.16c0.96,0,1.71-0.21,2.24-0.65
		c0.53-0.43,0.8-1.1,0.8-2v-0.6c0-0.9-0.27-1.57-0.8-2c-0.53-0.43-1.28-0.65-2.24-0.65c-0.96,0-1.71,0.22-2.24,0.65
		c-0.53,0.43-0.8,1.1-0.8,2v0.6c0,0.9,0.27,1.57,0.8,2C127.73,100.94,128.48,101.16,129.44,101.16z"
              />
              <path
                fill="#AAAAAA"
                d="M142.17,109.26c-0.74,0-1.29-0.2-1.66-0.59s-0.54-0.88-0.54-1.46v-0.45c0-0.58,0.18-1.07,0.54-1.46
		c0.36-0.39,0.91-0.59,1.66-0.59c0.74,0,1.29,0.2,1.66,0.59c0.36,0.39,0.54,0.88,0.54,1.46v0.45c0,0.58-0.18,1.07-0.54,1.46
		S142.92,109.26,142.17,109.26z"
              />
              <path
                fill="#AAAAAA"
                d="M150.91,109.26c-0.74,0-1.29-0.2-1.66-0.59s-0.54-0.88-0.54-1.46v-0.45c0-0.58,0.18-1.07,0.54-1.46
		c0.36-0.39,0.91-0.59,1.66-0.59c0.74,0,1.29,0.2,1.66,0.59c0.36,0.39,0.54,0.88,0.54,1.46v0.45c0,0.58-0.18,1.07-0.54,1.46
		S151.65,109.26,150.91,109.26z"
              />
              <path
                fill="#AAAAAA"
                d="M159.63,109.26c-0.74,0-1.29-0.2-1.66-0.59s-0.54-0.88-0.54-1.46v-0.45c0-0.58,0.18-1.07,0.54-1.46
		c0.36-0.39,0.91-0.59,1.66-0.59c0.74,0,1.29,0.2,1.66,0.59c0.36,0.39,0.54,0.88,0.54,1.46v0.45c0,0.58-0.18,1.07-0.54,1.46
		S160.38,109.26,159.63,109.26z"
              />
            </g>
          </motion.svg>
        </motion.div>
      </div>
    </section>
  );
};

export default Loader;
